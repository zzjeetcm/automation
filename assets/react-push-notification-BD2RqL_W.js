import{c as d}from"./attr-accept-CaXXqTot.js";import{r as $}from"./react-C1R9VIsi.js";var p={},_={},m={},y=d&&d.__awaiter||function(e,t,i,o){function n(a){return a instanceof i?a:new i(function(l){l(a)})}return new(i||(i=Promise))(function(a,l){function c(s){try{u(o.next(s))}catch(r){l(r)}}function f(s){try{u(o.throw(s))}catch(r){l(r)}}function u(s){s.done?a(s.value):n(s.value).then(c,f)}u((o=o.apply(e,t||[])).next())})};Object.defineProperty(m,"__esModule",{value:!0});m.PushNotification=void 0;const k=3e3;let P=class{constructor(t){this.title=t.title,this.subtitle=t.subtitle,this.message=t.message,this.theme=t.theme,this.id=Math.random(),this.styling=t.styling,this.closeButton=t.closeButton,this.onClick=t.onClick}};m.PushNotification=P;class E{constructor(){this.Storage=[],this.Listener=()=>this.Storage,this.popAndPush=t=>{let i=0;for(;i<this.Storage.length;)this.Storage[i].id===t?this.Storage.splice(i,1):++i;this.Listener(this.Storage)},this.setTimer=(t,i)=>{setTimeout(()=>this.popAndPush(t),i)},this.addListener=t=>{this.Listener=t},this.addNativeNotification=t=>y(this,void 0,void 0,function*(){const{title:i,subtitle:o,message:n,duration:a,icon:l,vibrate:c,silent:f,onClick:u}=t;if((Notification.permission==="default"||Notification.permission==="denied")&&(yield Notification.requestPermission()),Notification.permission==="granted"){const s=new Notification(i,{body:n,data:o,icon:l,vibrate:c,silent:f});s.onclick=u||null,setTimeout(s.close.bind(s),a||k)}}),this.addWebNotification=t=>{const{title:i,subtitle:o,message:n,theme:a,duration:l,backgroundBottom:c,backgroundTop:f,colorBottom:u,colorTop:s,closeButton:r,onClick:w}=t,B={backgroundTop:f,backgroundBottom:c,colorTop:s,colorBottom:u},b=new P({title:i,subtitle:o,message:n,theme:a,styling:B,closeButton:r,onClick:w});this.Storage.push(b),this.setTimer(b.id,l||k),this.Listener(this.Storage)},this.addNotification=t=>y(this,void 0,void 0,function*(){const{native:i}=t;return i?this.addNativeNotification(t):this.addWebNotification(t)})}}m.default=new E;var g={},M=d&&d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(g,"__esModule",{value:!0});const h=M($),D=e=>{const{title:t,subtitle:i,message:o,theme:n,id:a,closeNotification:l,styling:c,closeButton:f,onClick:u}=e;let s={},r={};return c&&(s.backgroundColor=c.backgroundTop,s.color=c.colorTop,r.backgroundColor=c.backgroundBottom,r.color=c.colorBottom),h.default.createElement("div",{className:`rpn-notification-card ${n}`,onClick:u},h.default.createElement("div",{className:`rpn-notification-card-top ${n}`,style:Object.keys(s).length?s:void 0},h.default.createElement("span",null,t),h.default.createElement("span",{className:`rpn-notification-card-close ${n}`,onClick:()=>l(a)},f||"close")),h.default.createElement("div",{className:`rpn-notification-card-bottom ${n}`,style:Object.keys(r).length?r:void 0},h.default.createElement("span",{className:"subtitle"},i),h.default.createElement("span",{className:"message"},o)))};g.default=D;var v=d&&d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});const N=v($),S=v(m),T=v(g);let j=class extends N.default.Component{constructor(){super(...arguments),this.state={value:[]}}componentDidMount(){S.default.addListener(t=>this.setState({value:t}))}render(){const{position:t}=this.props,i=`rpn-notification-holder ${t||"top-middle"} supertest`;return N.default.createElement("div",{className:i},this.state.value.map((o,n)=>N.default.createElement(T.default,{key:n,closeNotification:S.default.popAndPush,onClick:o.onClick,id:o.id,theme:o.theme,title:o.title,subtitle:o.subtitle,closeButton:o.closeButton,message:o.message,styling:o.styling})))}};_.default=j;var C=d&&d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(p,"__esModule",{value:!0});var L=p.Notifications=void 0;const O=C(_);L=p.Notifications=O.default;const x=C(m),A=x.default.addNotification;var F=p.default=A;export{L as N,F as _};
